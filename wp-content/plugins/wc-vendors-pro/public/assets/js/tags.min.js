jQuery(function(t){function a(){var t={formatMatches:function(t){return 1===t?wcv_tag_search_params.i18n_matches_1:wcv_tag_search_params.i18n_matches_n.replace("%qty%",t)},formatNoMatches:function(){return wcv_tag_search_params.i18n_no_matches},formatAjaxError:function(t,a,e){return wcv_tag_search_params.i18n_ajax_error},formatInputTooShort:function(t,a){var e=a-t.length;return 1===e?wcv_tag_search_params.i18n_input_too_short_1:wcv_tag_search_params.i18n_input_too_short_n.replace("%qty%",e)},formatInputTooLong:function(t,a){var e=t.length-a;return 1===e?wcv_tag_search_params.i18n_input_too_long_1:wcv_tag_search_params.i18n_input_too_long_n.replace("%qty%",e)},formatSelectionTooBig:function(t){return 1===t?wcv_tag_search_params.i18n_selection_too_long_1:wcv_tag_search_params.i18n_selection_too_long_n.replace("%qty%",t)},formatLoadMore:function(t){return wcv_tag_search_params.i18n_load_more},formatSearching:function(){return wcv_tag_search_params.i18n_searching}};return t}t("body").on("wcv-search-tag-init",function(){t(":input.wcv-tag-search").filter(":not(.enhanced)").each(function(){var e={allowClear:!!t(this).data("allow_clear"),placeholder:t(this).data("placeholder"),tags:t(this).data("tags"),tokenSeparators:wcv_tag_search_params.separator,minimumInputLength:t(this).data("minimum_input_length")?t(this).data("minimum_input_length"):"2",escapeMarkup:function(t){return t},createSearchChoice:function(a,e){if(0===t(e).filter(function(){return 0===this.text.localeCompare(a)}).length)return{id:a,text:a}},ajax:{url:wcv_tag_search_params.ajax_url,dataType:"json",quietMillis:250,data:function(a,e){return{term:a,action:t(this).data("action")||"wcv_json_search_tags",security:wcv_tag_search_params.nonce}},results:function(a,e){var n=[];return a&&t.each(a,function(t,a){n.push({id:t,text:a})}),{results:n}},cache:!0}};t(this).data("multiple")===!0?(e.multiple=!0,e.initSelection=function(a,e){var n=t.parseJSON(a.attr("data-selected")),r=[];return t(a.val().split(",")).each(function(t,a){r.push({id:a,text:n[a]})}),e(r)},e.formatSelection=function(t){return'<div class="selected-option" data-id="'+t.id+'">'+t.text+"</div>"}):(e.multiple=!1,e.initSelection=function(t,a){var e={id:t.val(),text:t.attr("data-selected")};return a(e)}),e=t.extend(e,a()),t(this).select2(e).addClass("enhanced")})}).trigger("wcv-search-tag-init")});